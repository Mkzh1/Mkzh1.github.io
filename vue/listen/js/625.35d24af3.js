"use strict";(self["webpackChunklisten"]=self["webpackChunklisten"]||[]).push([[625],{8625:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});s(7658);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"channel"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.showLoading,expression:"showLoading === true"}],staticClass:"loading"},[e("img",{attrs:{src:s(6053),alt:""}}),t._v(" 页面加载中... ")]),e("div",{staticClass:"headerBox"},[e("div",{staticClass:"header"},[e("div",{staticClass:"mark"}),e("div",{staticClass:"logo",on:{click:function(e){"/tuijian"!=t.$router.path&&t.$router.push({path:"/"})}}}),e("div",{staticClass:"search"},[e("svg",{staticClass:"icon",attrs:{t:"1664715880181",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5518",width:"48",height:"48"}},[e("path",{attrs:{d:"M851.710029 803.043632c67.147306-78.301344 107.720374-180.059935 107.720373-291.298435 0-247.27171-200.453405-447.724091-447.724091-447.724091S63.981197 264.473487 63.981197 511.745197s200.453405 447.724091 447.724091 447.724091c111.2385 0 212.997092-40.573067 291.298435-107.720374l97.632622 97.632621c13.449313 13.449313 35.255968 13.449313 48.706305 0 13.449313-13.449313 13.449313-35.255968 0-48.706305l-97.632621-97.631598z m-67.805292-19.10001l-22.499434 19.294439c-34.062793 29.209252-72.504314 52.006468-114.25623 67.759243-43.206034 16.301268-88.775906 24.566512-135.441739 24.566512-102.521978 0-198.907189-39.924291-271.40127-112.417349s-112.417349-168.879292-112.417349-271.40127 39.924291-198.907189 112.417349-271.40127S409.184333 127.926578 511.706311 127.926578c102.521978 0 198.907189 39.924291 271.40127 112.417349s112.417349 168.879292 112.417349 271.40127c0 46.666856-8.265244 92.236727-24.566512 135.441738-15.752776 41.75294-38.549991 80.193437-67.759243 114.256231l-19.294438 22.500456z",fill:"#bfbfbf","p-id":"5519"}})]),e("input",{attrs:{type:"text",placeholder:"搜索"},on:{focus:function(e){return t.showSearch()}}})]),e("div",{staticClass:"openBtn"},[t._v("打开app")])])]),e("ul",{ref:"leftBox",staticClass:"left-content"},t._l(t.categoryList,(function(s,a){return e("li",{key:s.name,staticClass:"item"},[e("a",{staticClass:"sort",class:{active:a===t.arrIndex},attrs:{id:"vital1"},on:{click:function(e){t.arrIndex=a,t.changeNavigationBar(a)}}},[t._v(t._s(s?.name))])])})),0),e("div",{staticClass:"bigbox",on:{scroll:t.scrollChange}},[e("div",{ref:"rightBox",staticClass:"box"},t._l(t.categoryList,(function(s,a){return e("div",{key:s.name,staticClass:"right-content"},[e("div",{staticClass:"title",on:{click:function(e){return t.$router.push({path:"/channel",query:{id:s.id}})}}},[e("p",{ref:`conRef${a}`,refInFor:!0,class:{addclass:t.arrIndex===a}},[t._v(" "+t._s(s.name)+" ")]),e("i",{staticClass:"iconfont icon-icon_arrow_right"})]),e("div",{staticClass:"text"},t._l(s?.channels,(function(a){return e("div",{key:a.channelId,staticClass:"text-i"},[e("span",{on:{click:function(e){return t.$router.push({path:`/channel/${s.id}`})}}},[t._v(t._s(a.channelName))])])})),0)])})),0)]),e("transition",{attrs:{name:"showPage"}},[e("searchPage",{directives:[{name:"show",rawName:"v-show",value:t.showSearchPage,expression:"showSearchPage"}],staticClass:"searchPotion",attrs:{showSearchPage:t.showSearchPage},on:{"Close-Page":function(e){return t.closeSearch()}}})],1)],1)},i=[],r=s(5983);const n=t=>Array.from(new Array(t),((t,e)=>`item${e+1}`));var o={components:{SearchPage:r.Z},data(){return{categoryList:[],sortIndex:0,list:n(9),scrollNum:0,indexList:[],ElH:[],ElH2:[],arrIndex:0,arrIndex2:0,showLoading:!0,showSearchPage:!1}},methods:{showSearch(){this.showSearchPage=!0,document.querySelector("body").style.overflow="hidden"},closeSearch(){this.showSearchPage=!1,document.querySelector("body").style.overflow="initial"},changeNavigationBar(t){document.querySelector(".bigbox").scrollTo({top:this.ElH[t]})},scrollChange:function(t){this.scrollNum=t.srcElement.scrollTop}},created(){this.showLoading=!0,this.axios.get("https://m.ximalaya.com/revision/metadata/v2/group/all?includeChannels=true").then((t=>{this.showLoading=!1,this.categoryList=t.data.data.groups,this.$nextTick((()=>{let t=[...this.$refs.rightBox.getElementsByClassName("right-content")].map((t=>t.offsetHeight)),e=[...this.$refs.leftBox.getElementsByClassName("item")].map((t=>t.offsetHeight));this.ElH=t.map(((t,e,s)=>{let a=0;return a=e?s.slice(0,e).reduce(((t,e)=>t+e)):0,a})),this.ElH2=e.map(((t,e,s)=>{let a=0;return a=e?s.slice(0,e).reduce(((t,e)=>t+e)):0,a}))}))}))},watch:{scrollNum:function(t){let e=this.ElH.findIndex((e=>e>=t));this.arrIndex=e;let s=this.ElH.findIndex((e=>e>=t));document.querySelector(".left-content").scrollTo({top:this.ElH2[s]}),this.arrIndex2=s}}},c=o,l=s(1001),h=(0,l.Z)(c,a,i,!1,null,"e1c537ee",null),d=h.exports}}]);
//# sourceMappingURL=625.35d24af3.js.map